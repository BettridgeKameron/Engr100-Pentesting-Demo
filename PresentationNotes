SETUP: Connect ipad or some device to hackme, connect camera to ethernet(not inter). stream footage on device/ipad. MAKE SURE TO RESET CAMERA BEFOREHAND. Have two root shells prior to streaming. try not to flash password. FORGET ALL NETWORKS ON DEVICE WATCHING STREAM

Welcome ENGR100, say your name, say that you will be going over one of the careers in cyber: pentesting. Essentially describing what a pentest is, explain in this scenario you could be someone hired by something like a bank to test their security. also explain that you wont really go over exactly how and kinda breeze through and explain, and that they should not replicate it, and the method is fairly obvious and you can get caught easily. (maybe mention cyberclub as a way to practice and learn legally)

Part 1a: Wireless hacking explained

Explain that nearly all business uses some sort of network, either wireless or ethernet. Note that if a business had ethernet you would not need to hack it in order to connect to it and do Part 2
Explain that is why one of the attack vectors a pentester will use is the network, as important devices/servers such as databases can be on it

Explain that one thing to mention is wifi traffic from your device is broadcasted to everyone and that technically your devices can see every packet, including those not belonging to you, but wifi cards in devices usually ignore that

Explain briefly about wifi security, like wep and wpa:
Wep: Outdated! By just listening to the wifi network for long enough, you can use statistics to get the password (no bruteforce/wordlist needed, and password can be complicated)
Explain you arent going to crack wep as it would take too long, but mention that some companies and people (with things like mobile hotspots) still use this type.
wpa/wpa2: Not really outdated and secure for the most part. It requires you to either wait for, or to forcefully attack a device, to get a "4 way handshake" which can be cracked for the password. Even then, wpa still relies on the strength of the password
wpa3: near impossible to crack, but not impossible.



Part 1b: Actually cracking it
note (if time is stretched just use a pcap that you already have to crack it)
TLDR: put wificard into monitor mode to see all the traffic, analyze "hack me level 2" into a pcap, (if only this work/time permits have some stream (maybe even the camera feed as seen on another device) and perform the deauth and get the 4 way handshake. use aircrack to crack it for password. reset computer.

commands (two terminals will be needed A and B, ALREADY root [so do "su"])
wlp1s0 is my wificard, so use your own

    A> airmon-ng check kill
    A> airmon-ng start wlp1s0 #(note that mon is added at end of card after this!)
NOTE: CHANNEL IS IMPORTANT DUE TO AIRMON USING 2.4ghz BY DEFAULT
(save time! next 3 commands are the same but with more each time [up arrow])
    A> airodump-ng wlp1s0mon #(if time issue, make sure to write down the mac)
    A> airodump-ng wlp1s0mon --channel 5 --bssid 60:38:E0:12:AE:14 (change this to whatever hackme has, goal is to get the mac of the victim [IPad])
NOTE 1:(try to do next two in order, but dont spend too much time, note that other cmd uses 2nd term)
NOTE2:
    A> airodump-ng wlp1s0mon --channel 5 --bssid 60:38:E0:12:AE:14 -w rainbowpcap
    B> iwconfig wlp1s0mon channel 5; aireplay-ng --deauth 5 wlp1s0mon -a 60:38:E0:12:AE:14 -c <victim mac>
it is now done, just crack it, briefly go over wordlist

NOTE: Before cracking password tell them to not connect to the router.
    A or B>aircrack-ng rainbowbackup-01.cap -w /home/clovis/wordlists/rockyou.txt

Reboot device, and connect, while doing this conclude that it was mainly possible due to a weak password

Part 1c: Network scan
Very quickly explain you are in network and now can scan for other devices (maybe a database with login/banking stuff). if the company insecurly put devices on one internet, can be an issue.
do nmap scan of network (sudo nmap 192.168.1.0/24)
show results, mention that you have access to any of the devices

Part 2: Camera time
Note that you know that this is a vulnerable camera, and the company failed to update device
explain how vulnerabilities like this is usually caused by oversights in the development/engineering process (such as lack of input validation)
explain that the script is going to use the exploit, hack into the camera, but also change the video feed (mention that you could do things like malware, add it to a botnet, make it mine crypto, etc)
Mention that sometimes these cameras can be accessed outside of the network (google dork) making it possible to use the camera as means to hop around the network (since it runs an operating system)
show script, but only briefly. if not using script just use metasploit and explain realquick
Point camera at soda/something, say to demonstrate the script that you can see the object is there and any movements of it can be seen
run said script and show that even though it looks like it is still viewing object, it isnt. explain that you could do something like put a rickroll or something too.
move object and show that the camera isnt updating anymore. if you did it, also mention that you made a hacker webpage that still can see what the live feed is

Part 3: Conclusion
Quickly go over the impacts of this, and how that i as a pentester by being able to find it before someone malicious did, am able to help the company fix it.
Note again to not attempt this on things you do not own/have consent for. it is very illegal, and also fairly simple to track down, as method i used is "noisy"
